{"version":3,"sources":["components/Input.js","components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Input","props","title","value","onChange","onChangeHandler","PersonForm","onSubmit","onSubmitCallback","newName","nameChangeHandler","newNumber","numberChangeHandler","type","Filter","Person","name","number","id","deletePersonCallBack","onClick","Persons","persons","filter","person","newFilter","toLowerCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","classname","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","error","setError","useEffect","console","log","personsService","intitialData","updateNumber","find","n","changedPerson","returnedPerson","setTimeout","catch","event","target","preventDefault","found","some","concat","window","confirm","alert","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b2014ba6.chunk.js","sourcesContent":["import React from 'react'\nconst Input = (props) => {\n  return (\n    <div>{props.title}\n    <input\n    value={props.value}\n    onChange={props.onChangeHandler}\n    />\n  </div>\n)}\nexport default Input","import React from 'react'\nimport Input from './Input'\nconst PersonForm = (props) => {\n  return (\n  <div>\n    <form onSubmit={props.onSubmitCallback}>\n        <Input title='name' value={props.newName} onChangeHandler={props.nameChangeHandler}/>\n        <Input title='number' value={props.newNumber} onChangeHandler={props.numberChangeHandler}/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  </div>\n)}\nexport default PersonForm","import React from 'react'\nconst Filter = (props) => {\n  return (\n    <div>{props.title}\n    <input\n    value={props.value}\n    onChange={props.onChangeHandler}\n    />\n  </div>\n)}\nexport default Filter","import React from 'react'\n\nconst Person = ({name,number,id,deletePersonCallBack}) => {\n    return(\n    <li>{name} {number}\n        <button onClick={()=>deletePersonCallBack(id)}>Delete</button>\n    </li>\n    )\n}\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) =>{\n    const containsFilter = (person)=> props.newFilter ? person.name.toLowerCase().includes(props.newFilter.toLowerCase()) : true\n    return(\n    <ul>\n        {(props.persons.filter(containsFilter)).map(person => <Person key={person.name} name={person.name} number={person.number} id={person.id} deletePersonCallBack={props.deletePersonCallBack}/>)}\n    </ul>\n    )}\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n//const baseUrl = 'http://localhost:3001/api/persons/'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n      return(response.data)\n    })\n  }\n\nexport default { getAll, create, update, deletePerson }","\nimport React from 'react'\n\nconst Notification = ({ message, classname }) => {\n    if (message==='') {\n      return null\n    }\n    return (\n      <div className={classname}>\n        {message}\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [notification, setNotification] = useState('')\n  const [error, setError] = useState('')\n\n  const hook = () => {\n    console.log('effect')\n    personsService.getAll()\n    .then(intitialData => {\n      setPersons(intitialData)\n    })\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event)=>{\n    event.preventDefault()\n    const found = persons.some(person => person.name === newName);\n    if(newName && !found){\n      const nameObject = {\n        name : newName,\n        number : newNumber\n      }\n      personsService\n        .create(nameObject)\n        .then(returnedPerson=>{\n      setPersons(persons.concat(returnedPerson))\n      setNotification(`Added ${newName}`)\n      setTimeout(()=> setNotification(''), 3000)\n    })\n    }\n    else{\n      if(found){\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n          updateNumber(newName,newNumber)\n        }\n        else{\n          console.log(\"user cancelled\")\n        }\n      }\n      else{\n        window.alert('empty string not allowed')\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(n => n.id === id)\n    console.log(person.name)\n    console.log(person.id)\n    console.log(person.number)\n    console.log(person)\n\n    personsService\n      .deletePerson(id)\n      .then(deletedPerson => {\n        setPersons(persons.filter(person => person.id !== id))\n        })\n      .catch(error => {\n        setError(`Information of ${person.name} has already been deleted from server.`)\n        setTimeout(()=> setError(''), 3000)\n      })\n  }\n\n  const updateNumber = (name,newNumber) => {\n    const person = persons.find(n => n.name === name)\n    const changedPerson = { ...person, number: newNumber}\n    personsService\n      .update(person.id,changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.name !== name ? person : returnedPerson))\n        setNotification(`Updated number of ${newName}`)\n        setTimeout(()=> setNotification(''), 3000)\n        })\n      .catch(error => {\n        setError(`Information of ${person.name} has already been deleted from server.`)\n        setTimeout(()=> setError(''), 3000)\n        })\n  }\n\n  const handleNameChange = (event)=>setNewName(event.target.value)\n  const handleNumberChange = (event)=>setNewNumber(event.target.value)\n  const handleFilterChange = (event)=>setNewFilter(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} classname='notification'/>\n      <Notification message={error} classname='error'/>\n      <Filter title='filter shown with' onChangeHandler={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm newName={newName} nameChangeHandler={handleNameChange} newNumber={newNumber} numberChangeHandler={handleNumberChange} onSubmitCallback={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} newFilter={newFilter} deletePersonCallBack={deletePerson}/>\n    </div>\n  )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}